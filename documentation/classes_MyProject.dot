digraph "classes_MyProject" {
    rankdir=BT;
    charset="utf-8";

    // Subgraph for Data Sources
    subgraph cluster_DataSources {
        label="Data Sources";
        style=filled;
        color=lightgrey;

        "NJ_SESP_Data_Analysis_Program.DataSource.DataSource" [shape="record", style="solid", label=<{DataSource|<br ALIGN="LEFT"/>|<I>extract_data</I>()<br ALIGN="LEFT"/>load_or_create(pickle_path, file_path, data_class, force_recreate)<br ALIGN="LEFT"/><I>print_samples</I>(data_source, sample_size)<br ALIGN="LEFT"/>}>, shape="record", style="solid"];
        "NJ_SESP_Data_Analysis_Program.NOAAEvent.NOAAEvent" [shape="record", style="solid", label=<{NOAAEvent|absolute_rownumber<br ALIGN="LEFT"/>begin_azimuth<br ALIGN="LEFT"/>begin_date<br ALIGN="LEFT"/>begin_lat<br ALIGN="LEFT"/>begin_location<br ALIGN="LEFT"/>begin_lon<br ALIGN="LEFT"/>begin_range<br ALIGN="LEFT"/>begin_time<br ALIGN="LEFT"/>cz_fips<br ALIGN="LEFT"/>cz_name_str<br ALIGN="LEFT"/>cz_timezone<br ALIGN="LEFT"/>cz_type<br ALIGN="LEFT"/>damage_crops_num<br ALIGN="LEFT"/>damage_property_num<br ALIGN="LEFT"/>deaths_direct<br ALIGN="LEFT"/>deaths_indirect<br ALIGN="LEFT"/>end_azimuth<br ALIGN="LEFT"/>end_date<br ALIGN="LEFT"/>end_lat<br ALIGN="LEFT"/>end_location<br ALIGN="LEFT"/>end_lon<br ALIGN="LEFT"/>end_range<br ALIGN="LEFT"/>end_time<br ALIGN="LEFT"/>episode_id<br ALIGN="LEFT"/>episode_narrative<br ALIGN="LEFT"/>event_id<br ALIGN="LEFT"/>event_narrative<br ALIGN="LEFT"/>event_type<br ALIGN="LEFT"/>filename : NoneType<br ALIGN="LEFT"/>flood_cause<br ALIGN="LEFT"/>injuries_direct<br ALIGN="LEFT"/>injuries_indirect<br ALIGN="LEFT"/>line_number : NoneType<br ALIGN="LEFT"/>magnitude<br ALIGN="LEFT"/>magnitude_type<br ALIGN="LEFT"/>source<br ALIGN="LEFT"/>state_abbr<br ALIGN="LEFT"/>tor_f_scale<br ALIGN="LEFT"/>tor_length<br ALIGN="LEFT"/>tor_width<br ALIGN="LEFT"/>weather_event_type<br ALIGN="LEFT"/>wfo<br ALIGN="LEFT"/>|assign_and_link_noaa_events_to_hazard(noaa_event_groups)<br ALIGN="LEFT"/>count_noaa_events_missing_cz_name(hazards)<br ALIGN="LEFT"/>extract_data()<br ALIGN="LEFT"/>get_unique_noaa_regions(hazards)<br ALIGN="LEFT"/>print_samples(noaa_events, sample_size)<br ALIGN="LEFT"/>print_specific_noaa_events(hazards, cz_name_str_values)<br ALIGN="LEFT"/>}>, shape="record", style="solid"];
        "NJ_SESP_Data_Analysis_Program.EagleIEvent.EagleIEvent" [shape="record", style="solid", label=<{EagleIEvent|county<br ALIGN="LEFT"/>fips_code<br ALIGN="LEFT"/>noaa_to_eaglei_mapping : dict<br ALIGN="LEFT"/>run_start_time<br ALIGN="LEFT"/>state<br ALIGN="LEFT"/>sum<br ALIGN="LEFT"/>|assign_eagle_i_events_to_hazards(hazards, eagle_i_events, noaa_to_eaglei_mapping)<br ALIGN="LEFT"/>extract_data()<br ALIGN="LEFT"/>filter_eagle_i_with_noaa(eagle_i_events, noaa_events, noaa_to_eaglei_mapping)<br ALIGN="LEFT"/>get_unique_eagle_i_counties(eagle_i_events)<br ALIGN="LEFT"/>print_samples(eagle_i_events, sample_size)<br ALIGN="LEFT"/>}>, shape="record", style="solid"];
        "NJ_SESP_Data_Analysis_Program.FEMA_NRI_data.FEMA_NRI_data" [shape="record", style="solid", label=<{FEMA_NRI_data|hazard_to_fema_prefix : dict<br ALIGN="LEFT"/>|assign_data_to_hazard(hazards, fema_nri_entries, fema_to_hazard_mapping)<br ALIGN="LEFT"/>extract_data()<br ALIGN="LEFT"/>get_attributes()<br ALIGN="LEFT"/>print_data_source_samples(sample_size)<br ALIGN="LEFT"/>print_samples(fema_nri_data_list, sample_size)<br ALIGN="LEFT"/>}>, shape="record", style="solid"];
    }

    // Subgraph for Hazards
    subgraph cluster_Hazards {
        label="Hazards";
        style=filled;
        color=lightgrey;

        "NJ_SESP_Data_Analysis_Program.hazard.Hazard" [shape="record", style="italic", label=<{Hazard|customers_affected_sum : int<br ALIGN="LEFT"/>frequency_coefficient : float<br ALIGN="LEFT"/>future_impact_coefficient : float<br ALIGN="LEFT"/>historical_frequency : float<br ALIGN="LEFT"/>historical_frequency_type : str<br ALIGN="LEFT"/>impact_coefficient : float<br ALIGN="LEFT"/>percent_customers_affected : float<br ALIGN="LEFT"/>property_damage_by_county : dict<br ALIGN="LEFT"/>risk_score : float<br ALIGN="LEFT"/>time_duration_customer_affected_annualized : float<br ALIGN="LEFT"/>total_property_damage : float<br ALIGN="LEFT"/>total_property_damage_annualized : float<br ALIGN="LEFT"/>total_time_duration_customer_affected : float<br ALIGN="LEFT"/>type_of_hazard<br ALIGN="LEFT"/>|<I>calculate_risk</I>()<br ALIGN="LEFT"/><I>calculate_scores</I>()<br ALIGN="LEFT"/><I>print_basic_info</I>()<br ALIGN="LEFT"/>}>, shape="record", style="solid"];
        "NJ_SESP_Data_Analysis_Program.natural_hazard.NaturalHazard" [shape="record", style="solid", label=<{NaturalHazard|NRI_data_fields : dict<br ALIGN="LEFT"/>eaglei_events : list<br ALIGN="LEFT"/>noaa_event_count : int<br ALIGN="LEFT"/>noaa_events : list<br ALIGN="LEFT"/>outage_duration_by_county : dict<br ALIGN="LEFT"/>outage_total_by_county : dict<br ALIGN="LEFT"/>percent_customers_affected : float<br ALIGN="LEFT"/>total_duration_eaglei : int<br ALIGN="LEFT"/>total_outages_sum : int<br ALIGN="LEFT"/>unique_eaglei_regions : set<br ALIGN="LEFT"/>unique_noaa_event_types : set<br ALIGN="LEFT"/>unique_noaa_regions : set<br ALIGN="LEFT"/>|add_eaglei_event(eaglei_event)<br ALIGN="LEFT"/>add_noaa_event(noaa_event)<br ALIGN="LEFT"/>calculate_percent_customers_affected()<br ALIGN="LEFT"/>calculate_probability(hazard_prefix)<br ALIGN="LEFT"/>calculate_property_damage(hazard_prefix)<br ALIGN="LEFT"/><I>calculate_scores</I>()<br ALIGN="LEFT"/><I>calculate_statistics</I>(noaa_to_eaglei_mapping)<br ALIGN="LEFT"/><I>calculate_total_eaglei_outage_duration</I>(outage_sum)<br ALIGN="LEFT"/><I>create_default_instances</I>()<br ALIGN="LEFT"/>load_or_create(pickle_path, subclass, force_recreate)<br ALIGN="LEFT"/><I>print_basic_info</I>()<br ALIGN="LEFT"/>print_data_source_samples(sample_size)<br ALIGN="LEFT"/>}>, shape="record", style="solid"];
        "NJ_SESP_Data_Analysis_Program.hurricanes.Hurricane" [shape="record", style="solid", label=<{Hurricane|NRI_data_fields : dict<br ALIGN="LEFT"/>customers_affected_sum : int<br ALIGN="LEFT"/>eaglei_events : list<br ALIGN="LEFT"/>frequency_coefficient : float<br ALIGN="LEFT"/>future_impact_coefficient : float<br ALIGN="LEFT"/>historical_frequency : float<br ALIGN="LEFT"/>impact_coefficient : float<br ALIGN="LEFT"/>intensity_coefficient<br ALIGN="LEFT"/>noaa_event_count : int<br ALIGN="LEFT"/>noaa_events : list<br ALIGN="LEFT"/>outage_duration_by_county : dict<br ALIGN="LEFT"/>outage_total_by_county : dict<br ALIGN="LEFT"/>percent_customers_affected : float<br ALIGN="LEFT"/>property_damage_by_county : dict<br ALIGN="LEFT"/>risk_score : float<br ALIGN="LEFT"/>storm_systems : list<br ALIGN="LEFT"/>time_duration_customer_affected_annualized : float<br ALIGN="LEFT"/>total_duration_eaglei : int<br ALIGN="LEFT"/>total_outages_sum : int<br ALIGN="LEFT"/>total_property_damage : float<br ALIGN="LEFT"/>total_property_damage_annualized : float<br ALIGN="LEFT"/>total_time_duration_customer_affected : float<br ALIGN="LEFT"/>unique_eaglei_regions : set<br ALIGN="LEFT"/>unique_noaa_event_types : set<br ALIGN="LEFT"/>unique_noaa_regions : set<br ALIGN="LEFT"/>|add_storm_system(storm_system)<br ALIGN="LEFT"/>analyze_hurricane_data()<br ALIGN="LEFT"/>calculate_average_peak_outages()<br ALIGN="LEFT"/>calculate_regression_coefficients()<br ALIGN="LEFT"/>create_default_instances()<br ALIGN="LEFT"/>print_basic_info()<br ALIGN="LEFT"/>}>, shape="record", style="solid"];
    }

    // Other Classes
    "NJ_SESP_Data_Analysis_Program.storm_system.StormSystem" [shape="record", style="solid", label=<{StormSystem|...additional attributes and methods...}>];
    "NJ_SESP_Data_Analysis_Program.utilities" [shape="box", label="utilities"];
    "NJ_SESP_Data_Analysis_Program.njsesp_config" [shape="box", label="njsesp_config"];

    // Inheritance
    "NJ_SESP_Data_Analysis_Program.NOAAEvent.NOAAEvent" -> "NJ_SESP_Data_Analysis_Program.DataSource.DataSource" [arrowhead="empty"];
    "NJ_SESP_Data_Analysis_Program.EagleIEvent.EagleIEvent" -> "NJ_SESP_Data_Analysis_Program.DataSource.DataSource" [arrowhead="empty"];
    "NJ_SESP_Data_Analysis_Program.FEMA_NRI_data.FEMA_NRI_data" -> "NJ_SESP_Data_Analysis_Program.DataSource.DataSource" [arrowhead="empty"];
    "NJ_SESP_Data_Analysis_Program.natural_hazard.NaturalHazard" -> "NJ_SESP_Data_Analysis_Program.hazard.Hazard" [arrowhead="empty"];
    "NJ_SESP_Data_Analysis_Program.hurricanes.Hurricane" -> "NJ_SESP_Data_Analysis_Program.natural_hazard.NaturalHazard" [arrowhead="empty"];

    // Composition
    "NJ_SESP_Data_Analysis_Program.hurricanes.Hurricane" -> "NJ_SESP_Data_Analysis_Program.storm_system.StormSystem" [arrowhead="odiamond", style="solid"];

    // Associations and Dependencies
    // Represent dependencies and associations with dashed lines
    // Example:
    "NJ_SESP_Data_Analysis_Program.hurricanes.Hurricane" -> "NJ_SESP_Data_Analysis_Program.utilities" [style="dashed"];
    "NJ_SESP_Data_Analysis_Program.natural_hazard.NaturalHazard" -> "NJ_SESP_Data_Analysis_Program.utilities" [style="dashed"];
    "NJ_SESP_Data_Analysis_Program.NOAAEvent.NOAAEvent" -> "NJ_SESP_Data_Analysis_Program.njsesp_config" [style="dashed"];
    "NJ_SESP_Data_Analysis_Program.EagleIEvent.EagleIEvent" -> "NJ_SESP_Data_Analysis_Program.njsesp_config" [style="dashed"];
    "NJ_SESP_Data_Analysis_Program.FEMA_NRI_data.FEMA_NRI_data" -> "NJ_SESP_Data_Analysis_Program.njsesp_config" [style="dashed"];
}
